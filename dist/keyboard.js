var kontra=function(r,e){"use strict";function n(r){return"number"==typeof r.which?r.which:r.keyCode}function t(r){var e=[];r=r.trim().replace("++","+plus");for(var n,t=0;n=v[t];t++)r.indexOf(n)!==-1&&(e.push(n),r=r.replace(n,""));return r=r.replace(/\+/g,"").toLowerCase(),p[r]?e.push("shift+"+p[r]):r&&e.push(r),e.join("+")}function o(r){for(var e,t=[],o=0;e=v[o];o++)r[e+"Key"]&&t.push(e);var a=c[n(r)];return t.indexOf(a)===-1&&t.push(a),t.join("+")}function a(r){for(var e,n=o(r),t=0,a=n.split("+");e=a[t];t++)f[e]=!0;u[n]&&u[n](r,n)}function i(r){var e=c[n(r)];f[e]=!1,l[e]&&(f[l[e]]=!1)}function s(r){f={}}for(var u={},f={},c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",91:"leftwindow",92:"rightwindow",93:"select",144:"numlock",145:"scrolllock",106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},d=0;d<26;d++)c[65+d]=String.fromCharCode(65+d).toLowerCase();for(d=0;d<10;d++)c[48+d]=""+d;for(d=1;d<20;d++)c[111+d]="f"+d;for(d=0;d<10;d++)c[96+d]="numpad"+d;var p={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\",plus:"="},l={leftwindow:"meta",select:"meta"},v=["meta","ctrl","alt","shift"];return e.addEventListener("keydown",a),e.addEventListener("keyup",i),e.addEventListener("blur",s),r.keys={},r.keys.bind=function(e,n){if("function"!=typeof n){var o=new SyntaxError("Invalid function.");return void r._logError(o,"You must provide a function as the second parameter.")}e=Array.isArray(e)?e:[e];for(var a,i=0;a=e[i];i++){var s=t(a);u[s]=n}},r.keys.unbind=function(r){r=Array.isArray(r)?r:[r];for(var e,n=0;e=r[n];n++){var o=t(e);u[o]=void 0}},r.keys.pressed=function(r){var e=t(r),n=!0;r=e.split("+");for(var o,a=0;o=r[a];a++)n=n&&!!f[o];return n},r}(kontra||{},window);