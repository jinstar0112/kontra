kontra.pool=function(t){let e=0;return{_c:(t=t||{}).create,objects:[t.create()],size:1,maxSize:t.maxSize||1024,get(t){if(t=t||{},this.objects[0].isAlive()){if(this.size===this.maxSize)return;for(let t=0;t<this.size&&this.objects.length<this.maxSize;t++)this.objects.unshift(this._c());this.size=this.objects.length}let s=this.objects.shift();s.init(t),this.objects.push(s),e++},getAliveObjects(){return this.objects.slice(this.objects.length-e)},clear(){e=this.objects.length=0,this.size=1,this.objects.push(this._c())},update(t){let s,i=this.size-1,h=Math.max(this.objects.length-e,0);for(;i>=h;)(s=this.objects[i]).update(t),s.isAlive()?i--:(this.objects=this.objects.splice(i,1).concat(this.objects),e--,h++)},render(){let t=Math.max(this.objects.length-e,0);for(let e=this.size-1;e>=t;e--)this.objects[e].render()}}};