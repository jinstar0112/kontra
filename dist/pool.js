!function(t){t.pool=function(t){t=t||{};var e,s=0,i=0;return{create:t.create,objects:[e],size:1,maxSize:t.maxSize||1/0,get:function(t){if(t=t||{},this.objects[0].isAlive()){if(this.size===this.maxSize)return;for(var e=0;e<this.size&&this.objects.length<this.maxSize;e++)this.objects.unshift(this.create());this.size=this.objects.length,s=this.size-1}var h=this.objects[0];h.init(t);for(var o=1;o<this.size;o++)this.objects[o-1]=this.objects[o];this.objects[s]=h,i++},getAliveObjects:function(){return this.objects.slice(this.objects.length-i)},clear:function(){i=s=this.objects.length=0,this.size=1,this.objects.push(this.create())},update:function(t){for(var e,h=s,o=Math.max(this.objects.length-i,0);h>=o;)if(e=this.objects[h],e.update(t),e.isAlive())h--;else{for(var c=h;c>0;c--)this.objects[c]=this.objects[c-1];this.objects[0]=e,i--,o++}},render:function(){for(var t=Math.max(this.objects.length-i,0),e=s;e>=t;e--)this.objects[e].render&&this.objects[e].render()}}}}(kontra);